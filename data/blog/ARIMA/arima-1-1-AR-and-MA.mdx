---
title  : ARIMA Modelling In-Depth Dive 1 - AR and MA 
date   : '2023-10-23'
tags   : ['ARIMA', 'linear-regression', 'modelling', 'time-series', 'maths', 'in-depth']
draft  : false
summary: 'Building the AR and MA parts of ARIMA model mathematically'
authors: ['vincentdoan']
---

# Introduction
ARIMA models, standing for Auto-Regressive Integrated Moving Average, is a useful model for predicting time series data with a complex nature. Unlike basic regression models, which may struggle to capture complexity with just a few variables (usually due to autocorrelation, trend and seasonality), ARIMA excels in treating autocorrelation, trend and seasonality through a built-in differencing function (the "Integrated" part of ARIMA); thus, it removes the need for specifying explanatory variables and extra transformation. It is widely used in modelling across many disciplines, including finance, weather predictions, and even anticipating website traffic. 
# Define the model
Let's build the ARIMA model from scratch. As introduced, the ARIMA model is made of three parts: an auto-regressive part, an integrated part and a moving average part. 

For example, given some time series with 100 observations. 

$$X = X_1, X_2, ..., X_{100}$$


The Auto-Regressive (AR) component says that an observation $(X_t)$ at certain point in time $t$, can be described as a linear combination of its lagged observations (ie. prior time points): 

$$X_t = \alpha_1 X_{t-1} + \alpha_2 X_{t-2} ...$$

where $\alpha_i$ are the parameters or coefficients of such regression. 
In other words, this assumes that any point in time can be predicted by its previous time points. 

Using the lag operator ($L^pX_t = X_{t-p}$), you can also express the above as: 


$$X_t = \alpha_1 (X_{t-1}) + \alpha_2 (X_{t-2}) ... + \alpha_{p} (X_{t-p})$$
$$X_t = \alpha_1 LX_{t} + \alpha_2 L^2X_{t} ... + \alpha_{p} L^{p}X_{t}$$
$$X_t = (\sum_{i=1}^{p} \alpha_i L^i)X_{t} \hspace{1cm} (1)$$





**Why do we need both an AR and an MA component?**
Both AR and MA components capture different types of structures in the data:
- **AR (Auto-Regressive)** captures the momentum and drift in the data. Eg. If the temperature has been rising over the last few days, it's likely to continue rising. The AR component will capture this momentum.
- **MA (Moving Average)** captures sudden shocks or changes in the series. Eg. If there's an unexpected drop in temperature today (maybe due to a sudden rainstorm), the MA component will help the model quickly adjust to these shocks.

So the AR part deals with long term changes, and the MA part deals with short term changes. However, the basis for these models only work if you have a stationary time series ie. the mean, variance and autocorrelation structure are assumed to remain the same over time. 
If your time series is not stationary, the assumptions for these models break down, making your prediction invalid. This is where the **I** (Integrated) component of ARIMA comes in. This component is used to remove non-stationarity out of your time series.  We will be talking about the I component in the next post of this series. 


